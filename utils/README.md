# Utils Module - أدوات مساعدة

هذا المجلد يحتوي على جميع الأدوات المساعدة المستخدمة في مشروع Bot Factory.

## الملفات المضمنة

### 1. `errors.py` - أنواع الأخطاء المخصصة
يحتوي على أنواع الأخطاء المخصصة لتحسين معالجة الأخطاء:
- `ValidationError`: خطأ في التحقق من المدخلات
- `DatabaseError`: خطأ في قاعدة البيانات
- `ProcessError`: خطأ في إدارة العمليات
- `BroadcastError`: خطأ في عمليات البث
- `CacheError`: خطأ في التخزين المؤقت

### 2. `logger.py` - إعدادات التسجيل
يحتوي على إعدادات الـ logger المستخدم في المشروع:
- `setup_logger()`: دالة إعداد الـ logger
- `logger`: كائن الـ logger الافتراضي

### 3. `cache.py` - مدير التخزين المؤقت
يحتوي على مدير التخزين المؤقت للاستعلامات المتكررة:
- `CacheManager`: كلاس إدارة التخزين المؤقت
- `cache_manager`: كائن مدير التخزين المؤقت العام

**الميزات:**
- خوارزمية LRU (Least Recently Used)
- TTL (Time To Live) للبيانات
- إدارة حجم التخزين المؤقت
- إحصائيات التخزين المؤقت

### 4. `tempfiles.py` - مدير الملفات المؤقتة
يحتوي على مدير الملفات المؤقتة:
- `TempFileManager`: كلاس إدارة الملفات المؤقتة
- `temp_file_manager`: كائن مدير الملفات المؤقتة العام

**الميزات:**
- إنشاء ملفات مؤقتة آمنة
- تنظيف تلقائي للملفات
- تتبع جميع الملفات المؤقتة
- تنظيف الملفات القديمة

### 5. `rate_limit.py` - مدير التأخير
يحتوي على مدير التأخير لتجنب الحظر:
- `RateLimitManager`: كلاس إدارة التأخير
- `rate_limit_manager`: كائن مدير التأخير العام

**الميزات:**
- تأخير بين العمليات المختلفة
- دعم العمليات المتزامنة وغير المتزامنة
- إحصائيات العمليات
- تخصيص التأخير لكل نوع عملية

## الاستخدام

```python
# استيراد جميع الأدوات
from utils import (
    logger,
    ValidationError,
    DatabaseError,
    ProcessError,
    BroadcastError,
    CacheError,
    cache_manager,
    temp_file_manager,
    rate_limit_manager
)

# استخدام الـ logger
logger.info("رسالة معلومات")
logger.error("رسالة خطأ")

# استخدام التخزين المؤقت
cache_manager.set("key", "value")
value = cache_manager.get("key")

# استخدام الملفات المؤقتة
temp_file = temp_file_manager.create_temp_file(suffix=".log")

# استخدام التأخير
await rate_limit_manager.async_wait_if_needed('database')
```

## الفوائد من هذا التقسيم

1. **سهولة الصيانة**: كل جزء مسؤول عن وظيفة محددة
2. **إعادة الاستخدام**: يمكن استخدام هذه الأدوات في مشاريع أخرى
3. **سهولة الاختبار**: يمكن اختبار كل وحدة بشكل منفصل
4. **تنظيم الكود**: فصل واضح بين المسؤوليات
5. **سهولة التطوير**: يمكن تطوير كل جزء بشكل مستقل